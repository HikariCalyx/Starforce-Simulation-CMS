<!DOCTYPE html>
<html lang="ko">
<head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-69835851-5"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-69835851-5');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no viewport-fit=cover">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>스타포스 시뮬레이션</title>
    <script type="text/javascript" src="./animate.js"></script>
    <link rel="stylesheet" type="text/css" href="./style.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.2/animate.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>
    <script type="text/javascript" src="./db.js"></script>
    <script type="text/javascript" src="./main.js"></script>
    <script type="text/javascript" src="./statis.js"></script>
</head>
<body onload="levelApply();setInfo();">
    <div id="background"></div>
    <h1 id="title" onclick="checkBono();">스타포스 시뮬레이션</h1>
    <table id="setTable">
        <tr>
            <td>
                <p>레벨 : </p>
            </td>
            <td>
                <select name="level" onchange="applyBtn();" id="level">
                    <option value="100">100</option>
                    <option value="110">110</option>
                    <option value="120">120</option>
                    <option value="130">130</option>
                    <option value="140">140</option>
                    <option value="150">150</option>
                    <option value="160" selected="selected">160</option>
                    <option value="200">200</option>
                </select>
            </td>
            <td>
                <p>파괴횟수 : </p><p id="dest"></p>
            </td>
            <td>
                <p>시행횟수 : </p><p id="tryCount"></p>
            </td>
        </tr>
    </table>
    <div id="ui">
        <div id="star"></div>
        <div id="notice" class="common"></div>
        <div id="center">
            <div id="itemImgBox">
                <div id="itemImg">

                </div>
            </div>
            <div id="infoBox" class="common">
                <div id="info">

                </div>
            </div>
        </div>
        <div id="option">
            <div id="catch" class="common"><p>스타캐치 사용</p><input type="checkbox" id="isCatch" checked="checked"></div>
            <div id="noDestBox" class="common"><p>파괴방지</p><input type="checkbox" id="noDest" onchange="setInfo();"></div>
        </div>
        <div id="priceBox" class="common">
            <p>필요한 메소 :</p>
            <p id="price"></p>
        </div>
        <div class="common">
            <p>사용한 메소 :</p>
            <p id="totalUse"></p>
        </div>
        <div id="btnBox">
            <input type="button" id="force" onclick="force();" value="강화">
            <input type="button" id="reset" onclick="reset();" value="초기화">
        </div>
    </div>
    <br>
    <nav>
        <hr>
        <h3>스타캐치 설정</h3>
        <input type="radio" name="starcatch" onchange="isCatchMultiple=true;" checked="checked"><p>곱적용</p>
        <input type="radio" name="starcatch" onchange="isCatchMultiple=false;"><p>합적용</p><br>
        <p>확률 설정(%)</p><input type="number" min="0" max="5" value="5" onchange="setInfo();" id="catchPercent">
        <h3>이벤트 설정</h3>
        <input type="radio" name="event" onchange="dc30p=false;onePlusOne=false;ftft100p=false;getTotalDC();" checked="checked">
        <p>이벤트 없음</p><br>
        <input type="radio" name="event" onchange="dc30p=true;onePlusOne=false;ftft100p=false;getTotalDC();">
        <p>강화비용 30% 할인</p><br>
        <input type="radio" name="event" onchange="dc30p=false;onePlusOne=true;ftft100p=false;getTotalDC();">
        <p>10성 이하 1+1</p><br>
        <input type="radio" name="event" onchange="dc30p=false;onePlusOne=false;ftft100p=true;getTotalDC();">
        <p>5성, 10성, 15성 100%</p><br>
        <input type="checkbox" id="freeNoDestEvent" onclick="getTotalDC();">
        <p>무료 파괴방지</p><br>
        <h3>MVP/PC방 할인</h3>
        <p>MVP 등급</p>
        <select name="mvp" onchange="getTotalDC();" id="mvp">
            <option value="0">혜택 없음</option>
            <option value="3">실버</option>
            <option value="5">골드</option>
            <option value="10">다이아</option>
        </select>
        <br>
        <input type="checkbox" id="PCcafe" onchange="applyPCcafeDC();"><p>PC방 할인</p>
        <hr>
        <div id="statis">
            <h3>통계(Beta)</h3>
            <p>주의 : 통계모드는 아직 테스트 중인 기능이며 데이터 처리는 사용자의 기기에서 처리합니다. 너무 큰 값을 넣거나 오류가 발생하면 브라우저가 종료될 수 있습니다.</p><br>
            <ul>
                <li>
                    <input type="number" min="0"  value="12" id="statis_start"><p>시작 별 갯수</p>
                </li>
                <li>
                    <input type="number" min="1"  value="15" id="statis_goal"><p>목표 별 갯수</p>
                </li>
                <li>
                    <input type="number" min="1"  value="100" id="statis_hmt"><p>한 장비당 최대 시도 횟수</p>
                </li>
                <li>
                    <input type="number" min="1"  value="1000" id="statis_hmr"><p>표본 장비 갯수</p>
                </li>
            </ul><br>
            <input type="button" id="statis_btn" onclick="statis();" value="통계 내기" style="width: 80px;"><br>
            <div id="statis_graph">
                <canvas id="sfChart"></canvas>
            </div>
            <br>
            <hr>
        </div>
        <div id="copyright">
            <p>제작 : ApteryxChan (엘리시움)<br><br>버그 발견시 <a href="mailto:kdo9921@apteryx.moe">이메일</a>이나 <a href="https://twitter.com/ApteryxChan">트위터</a>로 제보해주세요<br>GitHub에서 보기 : <a href="https://github.com/kdo9921/Starforce-Simulation">Starforce-Simulation</a><br></p>
        </div>
    </nav>    
</body>
</html>
